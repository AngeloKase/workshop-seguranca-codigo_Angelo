# workshop-seguranca-codigo_2025-08
Conte√∫dos do Workshop "Implementando Seguran√ßa em C√≥digo na pr√°tica: de aplica√ß√µes √† infraestrutura com GitHub Actions!", realizado durante o Esquenta MVPConf em S√£o Paulo-SP no dia 30/08/2025.

## Implementando Seguran√ßa em C√≥digo na pr√°tica: de aplica√ß√µes √† infraestrutura com GitHub Actions!

Aprenda neste workshop como implementar solu√ß√µes para an√°lise de c√≥digo em aplica√ß√µes e em scripts de infraestrutura na pr√°tica, automatizando a execu√ß√£o destas checagens com o GitHub Actions, Linux e diversas ferramentas open source!

A seguir est√£o as instru√ß√µes passo a passo para a execu√ß√£o das atividades pr√°ticas.

---

Para os testes com o Job que ser√° publicado no cluster Kubernetes utilizamos uma das APIs p√∫blicas catalogadas em:
https://github.com/public-apis/public-apis

Foi a API Bacon Ipsum üòÇ:
https://baconipsum.com/json-api/

Atrav√©s do endpoint:
https://baconipsum.com/api/?type=meat-and-filler

Nosso cluster de testes foi criado via kind, um emulador de Kubernetes muito √∫til para testes:
https://kind.sigs.k8s.io/

---

### Corrigindo problemas com o arquivo YAML do Kubernetes

Vers√£o do arquivo com problemas:

```yaml
apiVersion: batch/v1
kind: Job
metadata:
  name: exemplo-job
spec:
  template:
    spec:
      containers:
      - name: exemplo
        image: busybox
        command: ["echo", "Hello Kubernetes Job!"]
      restartPolicy: Never
```

Definir no arquivo YAML (**/.devops/job-teste.yaml**) a **configura√ßallowPrivilegeEscalation = false**. Gravar as altera√ß√µes e observar uma nova execu√ß√£o do workflow:

```yaml
apiVersion: batch/v1
kind: Job
metadata:
  name: exemplo-job
spec:
  template:
    spec:
      containers:
      - name: exemplo
        image: busybox
        command: ["echo", "Hello Kubernetes Job!"]
        securityContext:
          allowPrivilegeEscalation: false
      restartPolicy: Never
```

Refer√™ncia sobre este t√≥pico: https://kubernetes.io/docs/tasks/configure-pod-container/security-context/
